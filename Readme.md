# Alkoteka Spider (Scrapy)

## ðŸ“Œ ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ
Ð­Ñ‚Ð¾Ñ‚ Ð¿Ñ€Ð¾ÐµÐºÑ‚ Ñ€ÐµÐ°Ð»Ð¸Ð·ÑƒÐµÑ‚ Ð¿Ð°Ñ€ÑÐµÑ€ Ð¸Ð½Ñ‚ÐµÑ€Ð½ÐµÑ‚-Ð¼Ð°Ð³Ð°Ð·Ð¸Ð½Ð° [alkoteka.com](https://alkoteka.com), Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÑ Ñ„Ñ€ÐµÐ¹Ð¼Ð²Ð¾Ñ€Ðº **Scrapy**. ÐŸÐ°Ñ€ÑÐµÑ€ Ð¿Ñ€ÐµÐ´Ð½Ð°Ð·Ð½Ð°Ñ‡ÐµÐ½ Ð´Ð»Ñ ÑÐ±Ð¾Ñ€Ð° Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ð¸ Ð¾ Ñ‚Ð¾Ð²Ð°Ñ€Ð°Ñ… Ð¸Ð· Ð²Ñ‹Ð±Ñ€Ð°Ð½Ð½Ñ‹Ñ… ÐºÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸Ð¹ Ñ ÑƒÑ‡Ñ‘Ñ‚Ð¾Ð¼ Ñ€ÐµÐ³Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ñ… Ð´Ð°Ð½Ð½Ñ‹Ñ… (ÐšÑ€Ð°ÑÐ½Ð¾Ð´Ð°Ñ€) Ð¸ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚ÑŒÑŽ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ñ Ð¿Ñ€Ð¾ÐºÑÐ¸.

## ðŸ”§ ÐžÑÐ¾Ð±ÐµÐ½Ð½Ð¾ÑÑ‚Ð¸
- ÐŸÐ¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ðµ Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð¸Ð· API ÑÐ°Ð¹Ñ‚Ð° `alkoteka.com` Ð¿Ð¾ ÐºÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸ÑÐ¼
- ÐŸÐ¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ° Ñ€ÐµÐ³Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾Ð³Ð¾ Ñ„Ð¸Ð»ÑŒÑ‚Ñ€Ð° (Ð³Ð¾Ñ€Ð¾Ð´: ÐšÑ€Ð°ÑÐ½Ð¾Ð´Ð°Ñ€) Ð£ÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÑ‚ÑÑ Ð² url - "?city_uuid=4a70f9e0-46ae-11e7-83ff-00155d026416"
- ÐŸÑ€Ð¾ÐºÐ¸Ð´Ñ‹Ð²Ð°Ð½Ð¸Ðµ Ð±ÐµÑÐ¿Ð»Ð°Ñ‚Ð½Ñ‹Ñ… Ð¿Ñ€Ð¾ÐºÑÐ¸ Ð² Middlware(Ð¿Ñ€Ð¾ÐºÑÐ¸ Ð²Ð·ÑÑ‚Ñ‹ Ñ ÑÐ°Ð¹Ñ‚Ð° https://ru.proxy-tools.com/proxy)
- Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ Pipeline Ð´Ð»Ñ Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ¸ Ð²Ñ…Ð¾Ð´ÑÑ‰ÐµÐ³Ð¾ json

## ðŸ“ Ð¡Ñ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð° Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°
```
myproject/
â”œâ”€â”€ myproject/
â”‚   â”œâ”€â”€ spiders/
â”‚   â”‚   â””â”€â”€ alkoteka_spider.py   # ÐžÑÐ½Ð¾Ð²Ð½Ð¾Ð¹ Ð¿Ð°ÑƒÐº
â”‚   â”œâ”€â”€ pipelines.py            # ÐžÐ±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ° Ð´Ð°Ð½Ð½Ñ‹Ñ…
â”‚   â”œâ”€â”€ middlewares.py          # ÐŸÑ€Ð¾ÐºÑÐ¸ Middleware
â”‚   â””â”€â”€ settings.py             # ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Scrapy
â”œâ”€â”€ scrapy.cfg
â””â”€â”€ README.md                   # Ð˜Ð½ÑÑ‚Ñ€ÑƒÐºÑ†Ð¸Ñ
```

## ðŸ“¥ Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ°
```bash
python -m venv .venv
source .venv/bin/activate  # Windows: .venv\Scripts\activate
pip install -r requirements.txt
```

## ðŸš€ Ð—Ð°Ð¿ÑƒÑÐº Ð¿Ð°Ñ€ÑÐµÑ€Ð°
```bash
cd alchospider
scrapy crawl alchospider -O result.json
```
Ð ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚ Ð±ÑƒÐ´ÐµÑ‚ ÑÐ¾Ñ…Ñ€Ð°Ð½Ñ‘Ð½ Ð² Ñ„Ð°Ð¹Ð» `result.json` Ð² Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ðµ JSON.

## âœ… ÐŸÑ€Ð¸Ð¼ÐµÑ€ Ð²Ñ‹Ñ…Ð¾Ð´Ð½Ñ‹Ñ… Ð´Ð°Ð½Ð½Ñ‹Ñ…
```json
{
  "timestamp": 1747495947.393847,
  "RPC": "002b0883-2be0-11e7-82c0-00155d026416",
  "url": "https://alkoteka.com/product/pivo-1/caringer-shvarc-bir_29294",
  "title": "Ð¦Ð°Ñ€Ð¸Ð½Ð³ÐµÑ€ Ð¨Ð²Ð°Ñ€Ñ† Ð‘Ð¸Ñ€, 0.5 Ð›",
  "marketing_tags": [],
  "brand": "Zahringer Schwarz Bier",
  "section": [
    "Ð¡Ð»Ð°Ð±Ð¾Ð°Ð»ÐºÐ¾Ð³Ð¾Ð»ÑŒÐ½Ñ‹Ðµ Ð½Ð°Ð¿Ð¸Ñ‚ÐºÐ¸",
    "ÐŸÐ¸Ð²Ð¾"
  ],
  "price_data": {
    "current": 145.0,
    "original": 145.0,
    "sale_tag": "ÐÐµÑ‚ ÑÐºÐ¸Ð´ÐºÐ¸"
  },
  "stock": {
    "in_stock": true,
    "count": 422
  },
  "assets": {
    "main_image": "https://web.alkoteka.com/resize/350_500/product/2a/b7/29294_image.png",
    "set_images": null,
    "view360": null,
    "video": null
  },
  "metadata": {
    "__description": "",
    "slug": "caringer-shvarc-bir_29294",
    "vendor_code": 29294,
    "filter_labels": [
      {
        "title": "0.5 Ð›",
        "filter": "obem",
        "type": "range",
        "values": {
          "min": 0.5,
          "max": 0.5
        }
      },
      {
        "title": "ÐŸÐ¸Ð²Ð¾",
        "filter": "categories",
        "type": "select",
        "value": "pivo"
      }
    ]
  },
  "variants": 1
}


```

## ðŸ” ÐŸÐ¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ° Ð¿Ñ€Ð¾ÐºÑÐ¸
ÐŸÑ€Ð¾ÐµÐºÑ‚ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ ÑÐ¿Ð¸ÑÐ¾Ðº Ð±ÐµÑÐ¿Ð»Ð°Ñ‚Ð½Ñ‹Ñ… HTTP-Ð¿Ñ€Ð¾ÐºÑÐ¸ (Ð·Ð°Ð´Ð°Ð½Ð¾ Ð² `middlewares.py`).

## ðŸ“ Ð ÐµÐ³Ð¸Ð¾Ð½
ÐŸÐ°Ñ€Ð°Ð¼ÐµÑ‚Ñ€ `city_uuid=4a70f9e0-46ae-11e7-83ff-00155d026416` ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½ Ð´Ð»Ñ Ð³Ð¾Ñ€Ð¾Ð´Ð° **ÐšÑ€Ð°ÑÐ½Ð¾Ð´Ð°Ñ€**. Ð—Ð°Ð´Ð°Ð½ Ð² url.


---

> ÐÐ²Ñ‚Ð¾Ñ€ Ñ‚ÐµÑÑ‚Ð¾Ð²Ð¾Ð³Ð¾ Ñ€ÐµÑˆÐµÐ½Ð¸Ñ: Ivan Oplesnin
> Ð¢ÐµÐ»ÐµÐ³Ñ€Ð°Ð¼Ð¼: https://t.me/i_vanya0956
